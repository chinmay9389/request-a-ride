<!DOCTYPE html>

<html>

<head>
    <title>Request A Ride</title>
    <meta charset="utf-8">
    <meta name="description" content="Best vehicle app for college students">
    <meta name="keywords" content="ReqRide,reqride,vehicle pool,student,request a ride">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="js/bootstrap.min.js"></script>

    <?php
        include 'connect.php';
    ?>
    
    <style>
        * {
            box-sizing: border-box;
          }
        
        body {
            position: relative;
            z-index: 0;
        }
        
        .navbar-nav .nav-item.active .nav-link,
        .navbar-nav .nav-item:hover .nav-link {
            color: red;
            font-weight: bold;
        }
        
        .btn:hover[type=menu] {
            color: red;
            font-weight: bold;
        }
        
        .form-popup {
            display: none;
            max-width: 100%;
            position: relative;
            z-index: 9;
        }
        
        .form-container {
            opacity: 1;
        }
		
        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
        }
    </style>

    <script>

        $(document).ready(function(){

            $("#openForm").click(function(){
               $("#login-form").toggle(1200,"swing");
           });

            $("#closeFormLogin").click(function(){
               $("#login-form").toggle(1200,"swing");
           });

          $("#openRegistrationForm").click(function(){
               $("#login-form").toggle(1200,"swing");
              $("#registration-form").toggle(1200,"swing");
              $("#bikeLicenceInformation").toggle();
           });

           $("#closeFormRegistration").click(function(){
               $("#registration-form").toggle(1200,"swing");
               $("#login-form").toggle(1200,"swing");

               if($("#riderPassenger").is(':checked')==true)
               {
                   $("#bikeLicenceInformation").toggle(500,"swing");
               }
               else if($("#riderPassenger").is(':checked')==false)
               {
                   $("#bikeLicenceInformation").toggle(500,"swing")
               }
           });
           
            /*$("#submitFormRegistration").click(function(){
                $("#registration-form").toggle(1200,"swing");
               $("#login-form").toggle(1200,"swing");
                window.location.href="demo.php";
            });
            */
           $("#riderPassenger").change(function(){
               if($("#riderPassenger").is(':checked')==true)
               {
                   $("#bikeLicenceInformation").toggle(500,"swing");
               }
               else if($("#riderPassenger").is(':checked')==false)
               {
                   $("#bikeLicenceInformation").toggle(500,"swing")
               }
           });

           $("#spwd").keyup(function(){
               var pass = /^(?=(.*[a-z]){1,})(?=(.*[\d]){1,})(?=(.*[\W]){1,})(?!.*\s).{8,15}$/

             if (pass.test($("#spwd").val())){
                $("#spwd").css("border","2px solid green");
                $("#spwd-msg").html("<p class='text-success'>Valid!</p>").css("float","right");
             }
             else {
                 $("#spwd").css("border","2px solid red");
                 $("#spwd-msg").html("<p class='text-danger'>Invalid!</p>").css("float","right");
                }
           });

           $("#cpwd").keyup(function(){
              if($(this).val() == $("#spwd").val())
              {
                  $("#cpwd").css("border","2px solid green");
                  $("#cpwd-msg").html("<p class='text-success'>Valid!</p>").css("float","right");
              }
              else
              {
                   $("#cpwd").css("border","2px solid red");
                   $("#cpwd-msg").html("<p class='text-danger'>Invalid!</p>").css("float","right");
              }
           });

           $("#sUserID").keyup(function(){
               if($("#sUserID").val().length==8){
                   $("#sUserID").css("border","2px solid green");
                   $("#sUserID-msg").html("<p class='text-success'>Valid!</p>").css("float","right");
               }
               else
               {
                   $("#sUserID").css("border","2px solid red");
                   $("#sUserID-msg").html("<p class='text-danger'>Invalid!</p>").css("float","right");
               }
           });
		   
		   $("#fname,#lname,#mname").keyup(function(){
				if ( $(this).val().match('^[a-zA-Z]{2,20}$') ) {
					$(this).css("border","2px solid green");
				}
				else {
					$(this).css("border","2px solid red");
				}
		   });
            
            $("#mobNo1").keyup(function(){
               if ( $(this).val().match('^[0-9]{10}$') ) {
					$(this).css("border","2px solid green");
				}
				else {
					$(this).css("border","2px solid red");
				} 
            });
            
		   $("#deptValue label").click(function(){
               $("#departmentDropdown").html($(this).text())
			   
           });

		   $("#yearValue label").click(function(){
               $("#yearDropdown").html($(this).text())
           });

		   $("#localityValue label").click(function(){
               $("#localityDropdown").html($(this).text())
			   
           });
		   
		    $(".yearDropdown li").click(function(){
			//Get the value
			var value = $(this).attr("value");
			//Put the retrieved value into the hidden input
			$("input[name='yearDropdown']").val(value);
			});
			
			 $(".localityDropdown li").click(function(){
			//Get the value
			var value = $(this).attr("value");
			//Put the retrieved value into the hidden input
			$("input[name='localityDropdown']").val(value);
			});
			
			 $(".departmentDropdown li").click(function(){
			//Get the value
			var value = $(this).attr("value");
			//Put the retrieved value into the hidden input
			$("input[name='departmentDropdownDropdown']").val(value);
			});
        });
		
    </script>
</head>

<body>
        <div class="container">
        <div class="row">
            <div class="carousel slide" data-ride="carousel">
                <ul class="carousel-indicators">
                    <li data-target="#d1" data-slide-to="0" class="active"></li>
                    <li data-target="#d1" data-slide-to="1"></li>
                    <li data-target="#d1" data-slide-to="2"></li>
                    <li data-target="#d1" data-slide-to="3"></li>
                </ul>
                
                <div class="carousel-inner col-md-10 col-sm12 m-auto">
                    <div class="carousel-item active">
                        <img src="media/4.jpg" class="p-auto">
                    </div>
                    <div class="carousel-item">
                        <img src="media/1.jpg" class="p-auto">
                    </div>
                    <div class="carousel-item">
                        <img src="media/3.jpg" class="p-auto">
                    </div>
                    <div class="carousel-item">
                        <img src="media/2.jpg" class="p-auto">
                    </div>
                </div>
                
                <a class="carousel-control-prev" href="#d1" data-slide="prev">
                    <span class="carousel-control-prev-icon"></span>
                </a>
                
                <a class="carousel-control-next" href="#d1" data-slide="next">
                    <span class="carousel-control-next-icon"></span>
                </a>
            </div>
        </div>
        <nav class="navbar navbar-expand-md">
            <a class="navbar-brand " href="login.html"><i>ReqRide</i></a>
            <button class="navbar-toggler navbar-toggler-right custom-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
                        <span class="dropdown-toggle " style="color:red"></span>
                    </button>
            <div class="collapse navbar-collapse" id="collapsibleNavbar">
                <ul class="navbar-nav">
                    <li class="nav-item"><button type="menu" class="btn btn-md btn-sm text-info" id="openForm">Login/Sign Up</button></li>
                </ul>
            </div>
        </nav>
        <center>
                <div class="form form-popup col-md-6 col-sm-12 m-auto border" method="POST" id="login-form">
                    <div class="col-md-12 col-sm-12 bg-light" role="document" style="padding:1%">
                        <form action="login.php" method="POST" class="form-container col-md-12 col-sm-12 border">
                            <h1 class="text-md-center text-sm-center text-info">Login</h1>
                            <div class="form-group col-md-10 col-sm-12" style="padding-top:10%">
                                <input type="number" class="form-control" name ="userID" id="sUserID" aria-describedby="userID-help" placeholder="User ID" required>
                                <small id="userID-help" class="form-text text-muted text-left"><i><span class="text-info">Note: </span>UserID is College Registration Number</i></small>
                            </div>
                            <br>
                            <div class="col-md-10 col-sm-12">
                                <input type="password" class="form-control" name="pwd" id="pwd" placeholder="Password" required>
                                <span class="form-text" id="pwd-msg"></span>
                            </div>
                            <br>
                            <div class="col-md-10 col-sm-12 form-inline m-auto">
                            <button  class="btn btn-md btn-sm btn-info m-auto" id="openRegistrationForm" >Sign up</button>
                            <button type="submit" class="btn btn-md btn-sm btn-success form-inline m-auto"  id="submitFormLogin">Submit</button>
                            <button type="cancel" class="btn btn-md btn-sm btn-danger form-inline m-auto" id="closeFormLogin">Close</button>
                            </div>
                            <br>
                        </form>
                    </div>
                </div>

        </center>
            <div class="form form-popup col-md-6 col-sm-12 m-auto border" id="registration-form">
                    <div class="col-md-12 col-sm-12 bg-light " style="padding:1%">
                        <form action="register.php" method="POST" class="form-container col-md-12 col-sm-12 m-auto border">
                            <h1 class="text-md-center text-sm-center text-info">Register</h1>
                            <div class="form-group col-md-10 col-sm-12 m-auto" style="padding-top:10%">
                                <input type="number" class="form-control" name ="userID" id="sUserID" aria-describedby="userID-help" placeholder="User ID" required>
                                <span class="form-text" id="sUserID-msg"></span>
                                <small id="userID-help" class="form-text text-muted text-left"><i><span class="text-info">Note: </span>UserID must be College Registration Number.</i></small>
                            </div>
                            <br>
                            <div class="col-md-10 col-sm-12 form-inline m-auto">
                                <input type="text" class="form-control col-md-4 col-sm-6" style="padding: 1%" name="fname" id="fname" placeholder="First Name" required>
                                <input type="text" class="form-control col-md-4 col-sm-6" style="padding: 1%;" name="mname" id="mname" placeholder="Middle Name" required>
                                <input type="text" class="form-control col-md-4 col-sm-6" style="padding: 1%;" name="lname" id="lname" placeholder="Last Name" required>
                            </div>
                            <br>
                            <div class="col-md-10 col-sm-12 m-auto">
                                <div class="form-check-inline">
                                    <label class="form-check-label text-muted" style="text-align: left;">Gender:</label>
                                </div>
                                <div class="form-check-inline">
                                    <label class="form-check-label">
                                        <input type="radio" class="form-checked-input " value="Male" id="genderSelect" name="genderSelect">Male
                                    </label>
                                </div>
                                <div class="form-check-inline">
                                    <label class="form-check-label">
                                        <input type="radio" class="form-check-input" value="Female" id="genderSelect" name="genderSelect">Female
                                    </label>
                                </div>
                                <div class="form-check-inline">
                                    <label class="form-check-label">
                                        <input type="radio" class="form-check-input" value="Other" id="genderSelect" name="genderSelect" checked>Other
                                    </label>
                                </div>
                            </div>
                             <br>
                            <div class="col-md-10 col-sm-12 form-inline m-auto">
                                <input type="number" name="m1" id="mobNo1" class="form-control form-inline col-md-5 col-sm-10 mr-2" placeholder="Mobile Number" area-describedby="mobNo1-help" required>
                                <input type="number" name="m2" id="mobNo2" class="form-control form-inline col-md-5 col-sm-10 " placeholder="Optional Mobile Number">
                                <small id="mobNo1-help" class="form-text text-muted text-left"><i><span class="text-info">Note: </span>Country code is not required. Only insert 10 digit Mobile Number.</i></small>
                            </div>
                            <br>
                            <div class="col-md-10 col-sm-12 m-auto my-1">
                                <div class="form-group dropdown m-auto" >
                                    <button type="select" class="btn btn-info dropdown-toggle m-auto my-1" id="localityDropdown" data-toggle="dropdown">Your Home Locality</button>
                                    <div cLass="dropdown-menu col-md-6 col-sm-4 mr-10 my-1" id="localityDropdown" name="localityDropdown">
                                        <label class="dropdown-item" value="One">One</label>
                                        <label class="dropdown-item" value="Two">Two</label>
                                        <label class="dropdown-item" value="Three">Three</label>
                                        
                                    
                                    </div>
                                </div>
								<input type="hidden" name="localityDropdown">
                            </div>
                            <div class="col-md-10 col-sm-12 form-inline m-auto">
                                <div class="form-inline dropdown col-md-4 col-sm-6  my-1">
                                <button type="select" class="btn btn-info dropdown-toggle"  id="yearDropdown" data-toggle="dropdown">Year of Study</button>
                                    <div cLass="dropdown-menu" id="yearValue" name="yearDropdown">
                                        <?php
                                                $sql="SELECT * FROM user_year";
                                                $result = $db->query($sql) or die($db->error);

                                                if($result->num_rows>0){
                                                    while($row=$result->fetch_assoc()){
                                        ?>
                                                        <label class="dropdown-item" value= <?php $row['user_year_id']."<br>";?> ><?php echo $row['user_year']."<br>"; ?></label>
                                                    <?php 
                                                    }
                                                }
                                                else{
                                                    echo "Error in fetching <br>";
                                                }
                
                                        ?>
                                    </div>
									<input type="hidden" name="yearDropdown">
                                </div>
                                <div class="form-inline dropdown col-md-4 col-sm-6 my-1">
                                    <button type="select" class="btn btn-info dropdown-toggle form-text"  id="departmentDropdown" data-toggle="dropdown">Department</button>
                                    <div cLass="dropdown-menu"  id="deptValue" name="departmentDropdown">
                                        <?php
                                                $sql="SELECT user_dept FROM user_dept order by user_dept asc";
                                                $result = $db->query($sql) or die($db->error);

                                                if($result->num_rows>0){
                                                    while($row=$result->fetch_assoc()){
                                        ?>
                                                        <label class="dropdown-item" ><?php echo $row['user_dept']."<br>"; ?></label>
                                                    <?php 
                                                    }
                                                }
                                                else{
                                                    echo "Error in fetching <br>";
                                                }
                
                                        ?>
                                        
                                    </div>
									<input type="hidden" name="departmentDropdown">
                                </div>
                            </div>
                            <br>
                            <div class="col-md-10 col-sm-12 m-auto">
                                <div class="form-check-inline">
                                    <label class="form-text text-muted text-left">Are you registering for Rider?</label>
                                </div>
                                <div class="form-check-inline">
                                    <label class="form-check-label"><input type="checkbox" class="form-check-input" name="ifrider" id="riderPassenger" area-describedby="RiderPassenger-help">Yes</label>
                                </div>
                                <small id="RiderPassenger-help" class="form-text text-muted text-left"><i><span class="text-info">Note: </span>Please select if you use 2 Wheeler for travelling to college.</i></small>
                            </div>



                            <div class="col-md-10 col-sm-12 border bg-white m-auto" id="bikeLicenceInformation">
                                <h1 class="text-info text-md-center text-sm-center m-auto">Ride Information</h1>
                                <br>
                                <div class="col-md-10 col-sm-12 m-auto">
                                    <div class="form-inline mt-5">
                                        <input type="text" class="form-control col-md-5 col-sm-6 m-auto" name="bikeNumber" id="bikeNumber" aria-describedby="bikeNumber-help" placeholder="Bike Number" required>
                                        <input type="text" class="form-control col-md-5 col-sm-6 m-auto" name="bikeModel" id="bikeModel" placeholder="Bike model name" required>
                                    </div>
                                    <small id="bikeNumber-help" class="form-text text-muted text-center "><i><span class="text-info">Note:</span>Bike Number is Mandatory for registration into </i><span class="text-primary" style="font-weight:bold;">ReqRide:-<i>Request-a-Ride.</i></span></small>
                                </div>
                                <br>
                                <div class="col-md-10 col-sm-12 m-auto">
                                    <input type="text" class="form-control mt-2" name="licenceNumber" id="licenceNumber" aria-describedby="licenceNumber-help" placeholder="Licence Number" required>
                                    <small id="licenceNumber-help" class="form-text text-muted text-center"><i><span class="text-info">Note:</span>Valid licence number mandatory.</i></small>
                                </div>
                                <br>
                                <div class="col-md-3 col-sm-4 m-auto">
                                    <button type="submit" class="btn btn-success btn-md btn-sm m-auto" id="submitBikeInformation">Save</button>
                                </div>
                                <br>
                            </div>




                            <br>
                            <div class="col-md-10 col-sm-12 m-auto">
                                    <input type="password" class="form-control" name="pwd1" id="spwd" aria-describedby="pwd-help" placeholder="Set Password">
                                    <span class="form-text" id="spwd-msg"></span>
                                     <small class="form-text text-muted text-left" id="pwd-help"><i><span class="text-info">Note: </span>Password must be of 8 to 15 characters. <br>Password should contain 1 Capital letter, 1 special character and 1 number.</i></small>
                                    <br>
                                    <input type="password" class="form-control" id="cpwd" placeholder="Confirm Password">
                                    <span class="form-text" id="cpwd-msg"></span>
                            </div>
                            <br>
                            <div class="col-md-10 col-sm-12 form-inline m-auto">
                                    <button type="submit" class="btn btn-md btn-sm btn-success ml-auto mr-2" id="submitFormRegistration" >Register</button>
                                    <button type="cancel" class="btn btn-md btn-sm btn-danger ml-2 mr-auto" id="closeFormRegistration">Cancel</button>
                            </div>
                            <br>
                        </form>
                    </div>
                </div>
				<div class="row border bg-info mt-2">
					<p class="mt-5"style="color:red"></p>
				</div>
    </div>
</body>

<footer>
</footer>

</html>                             